<!DOCTYPE HTML>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>SafeWith.me Tests</title>
    <link rel="stylesheet" href="qunit-git.css" type="text/css" media="screen" />
    
    <!-- include dependencies -->
    <script type="text/javascript" src="../js/lib/jquery-1.7.1.min.js"></script>
    <script type="text/javascript" src="qunit-git.js"></script>
    <script type="text/javascript" src="../js/lib/openpgp.min.js"></script>
    <script type="text/javascript" src="../js/lib/sjcl.js"></script>
    <script type="text/javascript" src="../js/lib/uuid.js"></script>
    <script type="text/javascript" src="../js/lib/google-client.js"></script>
    
    <script type="text/javascript" src="../js/safewithme.util.js"></script>
    <script type="text/javascript" src="../js/safewithme.cache.js"></script>
    <script type="text/javascript" src="../js/safewithme.server.js"></script>
    <script type="text/javascript" src="../js/safewithme.crypto.js"></script>
    <script type="text/javascript" src="../js/safewithme.fs.cache.js"></script>
    <script type="text/javascript" src="../js/safewithme.fs.js"></script>
    <script type="text/javascript" src="../js/safewithme.oauth.js"></script>
    <script type="text/javascript" src="../js/safewithme.gdrive.js"></script>

    <script type="text/javascript" src="test_data.js"></script>
    
    <!-- setup -->
    <script>
      // set vendor prefixes for tests
      new Util(window).checkRuntime();
      
      $(function() {
        // check if the url's query string contains oauth token
      	var oauth = new OAuth(window);
      	var oauthParams = oauth.oauth2Callback()
      	if (oauthParams) {
      	  // show the oauth token on the page
      		$('#loginStatus').html('OAuth params: ' + JSON.stringify(oauthParams));

      	} else {
      		// set the login link
      		var loginUri = oauth.getLoginLink();
      		$('#loginStatus').attr({ href: loginUri }).html('Login');
      	}
      });
    </script>
    
    <!-- dummy objects -->
    <script type="text/javascript" src="server_dummy.js"></script>
    
    <!-- unit tests -->
    <script type="text/javascript" src="util_test.js"></script>
    <script type="text/javascript" src="crypto_test.js"></script>
    <script type="text/javascript" src="cache_test.js"></script>
    <script type="text/javascript" src="fs_cache_test.js"></script>
    <script type="text/javascript" src="fs_test.js"></script>
    
    <!-- integration tests -->
    <script type="text/javascript" src="server_integration_test.js"></script>
    <script type="text/javascript" src="crypto_integration_test.js"></script>
    <script type="text/javascript" src="fs_cache_integration_test.js"></script>
    <script type="text/javascript" src="fs_integration_test.js"></script>
    <script type="text/javascript" src="gdrive_integration_test.js"></script>
  </head>
  <body>
    <h1 id="qunit-header">SafeWith.me Client Unit &amp; Integration Tests</h1>
    <a id="loginStatus">OAuth init...</a>
    <h2 id="qunit-banner"></h2>
    <div id="qunit-testrunner-toolbar"></div>
    <h2 id="qunit-userAgent"></h2>
    <ol id="qunit-tests"></ol>
    <div id="qunit-fixture">test markup, will be hidden</div>
  </body>
</html>