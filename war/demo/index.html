<!DOCTYPE html> 
<html manifest="../appcache.manifest">
  <!--
   - SafeWith.me - store and share your files with OpenPGP encryption on any device via HTML5
   -
   - Copyright (c) 2012 Tankred Hase
   - 
   - This program is free software: you can redistribute it and/or modify
   - it under the terms of the GNU Affero General Public License as published by
   - the Free Software Foundation, version 3 of the License.
   - 
   - This program is distributed in the hope that it will be useful,
   - but WITHOUT ANY WARRANTY; without even the implied warranty of
   - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
   - GNU Affero General Public License for more details.
   - 
   - You should have received a copy of the GNU Affero General Public License
   - along with this program. If not, see http://www.gnu.org/licenses/.
   -->
	<head>
    <meta charset="utf-8">
  	<title>SafeWith.me</title> 
  	<meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Store and share your files with OpenPGP encryption on any device via HTML5">
    <meta name="author" content="Tankred Hase">
    <meta name="keywords" content="safe with me, secure online storage, secure cloud storage, secure file sharing, securely share files, open source, privacy, security, client side encryption, pgp, openpgp, html5" />
  	<link rel="stylesheet" href="../css/jquery.mobile-1.1.0.min.css" />
    <link rel="stylesheet" href="../css/app.css" />
    <link rel="shortcut icon" href="../favicon.ico">
  	<script type="text/javascript" src="../js/lib/jquery-1.7.1.min.js"></script>
  	<script type="text/javascript" src="../js/lib/jquery.mobile-1.1.0.min.js"></script>
    <script type="text/javascript" src="../js/lib/openpgp.min.js"></script>
    <script type="text/javascript" src="../js/lib/uuid.js"></script>
    <script type="text/javascript" src="../js/safewithme.util.js"></script>
    <script type="text/javascript" src="../js/safewithme.cache.js"></script>
    <script type="text/javascript" src="../js/safewithme.server.js"></script>
    <script type="text/javascript">
      SERVER.xhr = function(args) {
        args.error(); // never phone home during the demo
      };
    </script>
    <script type="text/javascript" src="../js/safewithme.crypto.js"></script>
    <script type="text/javascript" src="../js/safewithme.crypto.view.js"></script>
    <script type="text/javascript" src="../js/safewithme.menu.js"></script>
    <script type="text/javascript" src="../js/safewithme.menu.view.js"></script>
    <script type="text/javascript" src="../js/safewithme.fs.cache.js"></script>
    <script type="text/javascript" src="../js/safewithme.fs.js"></script>
    <script type="text/javascript" src="../js/safewithme.fs.view.js"></script>
    <script type="text/javascript" src="../js/safewithme.js"></script>
    <script>
      $(function() {
        SAFEWITHME.init();  // init main module on document ready
      });
      
      /**
       * Init module for subpages on jquery mobile pageinit
       * TODO: refactor and modularize
       */
      $('#keygenDlg').live('pageinit', function(event) {
      	SAFEWITHME.init();
      });

      $('#importKeysDlg').live('pageinit', function(event) {
      	SAFEWITHME.init();
      });
    </script>
  </head>
  <body>
    
    <!--
    Main page
    -->

    <div data-role="page" data-theme="a" id="mainPage">
      
    	<div data-role="header" data-position="fixed" data-theme="a">
        <span data-role="button" data-icon="plus" class="ui-btn-left fileinput-button">
          <span>Upload</span>
          <input type="file" id="files" name="files[]" multiple />
        </span><!-- /fileinput-button -->
        <h1 class="safewithmebrand">SafeWith.me</h1>
        <a id="loginStatus" href="#" data-role="button" data-icon="back" data-iconpos="right" class="ui-btn-right">init...</a>
    	</div><!-- /header -->

    	<div data-role="content">
      	<ul id="itemList" data-role="listview" data-inset="true" data-filter="true" data-theme="c" data-divider-theme="d"></ul>
    	</div><!-- /content -->
    	
    	<div data-role="footer" data-position="fixed" data-theme="a">
  			<h4 class="safewithmebrand">&copy; 2012 Tankred Hase</h4>
      	<a href="about.html" data-role="button" data-icon="info" data-iconpos="notext" data-transition="flip" class="ui-btn-right"></a>
  		</div><!-- /footer -->
  		
    </div><!-- /page -->
    
    <!--
    About Dialog
    -->

    <div data-role="dialog" data-theme="c" id="about">

    	<div data-role="content">
    	  <div id="logo"></div>
    	  <p class="emphasize"><a href="http://safewith.me" target="new">SafeWith.me</a> - store and share your files</br> with OpenPGP encryption on any device via HTML5</p>
    	  <p class="emphasize">&copy; 2012 Tankred Hase</p>
    	  <p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, version 3 of the License.</p>
    	  <p> This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the <a href="https://github.com/tanx/SafeWith.me/blob/master/LICENSE.txt" target="new">GNU Affero General Public License</a> for more details.</p>
      	<a href="index.html" data-role="button" data-transition="flow" data-theme="a">Close</a>
  	  </div><!-- /content -->

    </div><!-- /page -->
    
    <!-- Keygen Dialog -->

    <div data-role="dialog" data-theme="c" id="keygenDlg">

    	<div data-role="header" data-position="fixed" data-theme="a">
        <h1>Generate keys</h1>
    	</div><!-- /header -->

    	<div data-role="content">
        <label>Passphrase:</label>
  		  <input id="passphrase" type="password"/>
  		  <a id="genKeys-btn" data-role="button">Create my keypair</a>
    	</div><!-- /content -->

    </div><!-- /page -->

  </body>
</html>